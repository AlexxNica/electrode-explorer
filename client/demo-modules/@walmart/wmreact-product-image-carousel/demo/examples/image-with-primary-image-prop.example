const Example = React.createClass({
  getInitialState: function() {
    return {
      activeSlide: 0,
      lastIndex: 0,
      primaryImage: "http://lorempixel.com/400/400/cats/1",
      images: [{
        thumb: "http://lorempixel.com/400/400/cats/1",
        main: "http://lorempixel.com/400/400/cats/1",
        alt: "Test Image"
      },
      {
        thumb: "http://lorempixel.com/400/400/cats/2",
        main: "http://lorempixel.com/400/400/cats/2",
        alt: "Test Image"
      }]
    };
  },
  handleHover: function(entering, slideIndex) {
    const oldActiveSlide = this.state.activeSlide;
    if (entering) {
      this.setState({
        activeSlide: slideIndex,
        oldActiveSlide,
        primaryImage: this.state.images[slideIndex].main
      });
    } else {
      this.setState({
        activeSlide: this.state.oldActiveSlide,
        primaryImage: this.state.images[this.state.oldActiveSlide].main
      });
    }

  },
  handleClick: function(slideIndex) {
    this.setState({
      activeSlide: slideIndex,
      oldActiveSlide: slideIndex,
      primaryImage: this.props.images[slideIndex].main
    });
  },
  onSlideChange: function(slideIndex) {
    this.setState({
      lastIndex: slideIndex
    });
    return true;
  },
  render: function() {
    return (
      <ProductImage
      primaryImage={this.state.primaryImage}
      images={[{
        thumb: "http://lorempixel.com/400/400/cats/1",
        main: "http://lorempixel.com/400/400/cats/1",
        alt: "Test Image"
      },
      {
        thumb: "http://lorempixel.com/400/400/cats/2",
        main: "http://lorempixel.com/400/400/cats/2",
        alt: "Test Image"
      }]}
      lastIndex={this.state.lastIndex}
      activeIndex={this.state.activeSlide}
      handleHover={this.handleHover}
      handleClick={this.handleClick}
      onSlideChange={this.onSlideChange}
      hasVideo={true}
      videoThumb="http://unsplash.it/60/60"
    />);
  }
});

React.render(<Example/>, mountNode);
