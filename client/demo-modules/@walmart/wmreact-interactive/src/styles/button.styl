@require "~@walmart/wmreact-base/src/styles/base";
// @from @walmart/hydra/src/tenants/walmart/base/buttons.styl

/*!
Standard Buttons
*/

$btn-color = {
  standard: {
    bg: $blue,
    bg-hover: $blue-hover,
    bg-active: $blue-active,
    text: $white
    },
  inverse: { // @stylint ignore
    bg: $white, // @stylint ignore
    bg-active: $white, // @stylint ignore
    border: $grey-light,
    border-hover: $blue-secondary, // @stylint ignore
    text: $blue // @stylint ignore
  },
  primary: { // @stylint ignore
    bg: $orange, // @stylint ignore
    bg-hover: $orange-hover, // @stylint ignore
    bg-active: $orange-active, // @stylint ignore
    text: $white // @stylint ignore
  }
}

if ($isHybrid() is true) {
  $btn-color.standard.bg = $hybrid-blue-bright;
  $btn-color.standard.bg-active = $hybrid-blue-bright-active;

  $btn-color.primary.bg = $hybrid-orange;
  $btn-color.primary-bg-active = $hybrid-orange-active;

  $btn-color.inverse.text = #666;
  $btn-color.inverse.bg = $hybrid-grey-ultralight;
  $btn-color.inverse.bg-active = #d5d5d5;
}

$tenant-btn() {
  .btn {
    if ($isHybrid() is true) {
      border-radius: 2px;

      background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), rgba(0, 0, 0, 0.1)); // @stylint ignore

      &:active {
        background-image: none;
      }
    } else {
      border-radius: 4px;
    }

    if ($isIos() is true) {
      font-weight: 400;
    } else if ($isAndroid() is true) {
      font-weight: 500;
    }
  }
}

/*!
Progress Buttons
*/

$tenant-btn-progress-spinner() {
  .btn-progress-spinner {
    &:before {
      border-radius: 4px;
    }
  }
}

/*!
Voting Buttons
*/

$btn-vote-color = {
  bg: $blue-pale,
  bg-active: $blue,
  border: $blue-pale,
  border-active: $blue,
  text: $blue,
  text-active: $white
}

$tenant-btn-vote() {
  .btn-vote {
    border-radius: 50px;
  }
}

/*!
Badge Buttons

.btn-badge-alt - Alternate variant.

Styleguide 7.5
*/

$btn-badge-color = {
  bg: $blue-pale,
  bg-hover: $blue-pale-hover,
  bg-active: $blue-place-active,
  border: none,
  border-hover: none,
  text: $grey-dark,
  text-hover: $grey-dark
}

$tenant-btn-badge() {
  .btn-badge {
    border-radius: 50px;
  }

  .btn-badge-alt {
    border: solid 1px $grey-cool;

    line-height: 0;

    &,
    &:hover,
    &:focus,
    &:active,
    &.active {
      background: transparent;
    }

    &:hover,
    &:focus {
      border-color: $green;
    }

    &.active,
    &:active {
      padding: 0 13px;
      border: solid 2px $green;
    }
  }
}

/*!
Badge Button Groups

.btn-badge-alt - Alternate variant.

Styleguide 7.5.1
*/

.btn-badge-group {
  font-size: 0;

  .btn-badge {
    width: 110px;
    margin-left: 2px;
    padding: 0;
    border-radius: 0;

    &:first-child {
      margin-left: 0;
      border-radius: 50px 0 0 50px;
    }

    &:last-child {
      border-radius: 0 50px 50px 0;
    }
  }
}

/*!
Delete Buttons
*/

$btn-delete-color = {
  text: $blue,
  border-hover: $blue-secondary
}

// @from @walmart/hydra/src/common/base/buttons.styl

/*!
Standard Buttons

.btn-inverse - Inverse version.
.btn-primary - Highlighted version.
.btn-compact - Compact version.
.btn-mini - Mini version.
.btn-large - Large version.

Styleguide 7.1
*/

// @stylint off
$btn-color ?= { //
  standard: {
    bg: #aaa,
    bg-hover: #bbb,
    bg-active: #999,
    text: #fff
  },
  inverse: {
    bg: #fff,
    bg-active: #fff,
    border: #ccc,
    border-hover: #aaa,
    text: #444 // @stylint ignore
  },
  primary: {
    bg: #333,
    bg-hover: #555,
    bg-active: #333,
    text: #fff // @stylint ignore
  }
}
// @stylint on

.btn {
  font-smoothing();

  display: inline-block;
  height: 38px; // @from atlas.css
  padding: 0 34px; // @from atlas.css
  border: 0;

  background-color: $btn-color.standard.bg;

  font-size: 16px;
  font-weight: 700; // @from atlas.css
  line-height: 1;
  text-align: center;
  vertical-align: middle;
  white-space: nowrap; // @from atlas.css

  // Any property that may change by state should smoothly transition
  transition-property: background-color, opacity, border-color, color;
  transition-duration: 120ms;
  transition-timing-function: ease-out;

  &,
  &:hover,
  &:focus,
  &:visited {
    color: $btn-color.standard.text;
    outline: none;
  }

  if ($isWeb() is true) {
    &:hover,
    &:focus {
      background-color: $btn-color.standard.bg-hover;
    }
  }

  &:active {
    background-color: $btn-color.standard.bg-active;
  }

  &:disabled {
    background-color: $btn-color.standard.bg;
    cursor: default;
    opacity: .5;
  }
}

$tenant-btn();

.btn-inverse {
  if ($isWeb() is true) {
    border: 1px solid $btn-color.inverse.border;
    font-size: 15px; // @from atlas.css
    font-weight: 600;
  }

  &,
  &:hover,
  &:focus,
  &:visited,
  &:active {
    background-color: $btn-color.inverse.bg;
    color: $btn-color.inverse.text;
  }

  if ($isWeb() is true) {
    &:hover,
    &:focus {
      border-color: $btn-color.inverse.border-hover;
    }

    &:active {
      border-color: $btn-color.inverse.border;
    }
  }

  &:active {
    background-color: $btn-color.inverse.bg-active;
  }

  &:disabled {
    border-color: $btn-color.inverse.border;

    background-color: $btn-color.inverse.bg;
  }
}

.btn-primary {
  background-color: $btn-color.primary.bg;

  &,
  &:hover,
  &:focus,
  &:visited {
    color: $btn-color.primary.text;
  }

  if ($isWeb() is true) {
    &:hover,
    &:focus {
      background-color: $btn-color.primary.bg-hover;
    }
  }

  &:active {
    background-color: $btn-color.primary.bg-active;
  }

  &:disabled {
    background-color: $btn-color.primary.bg-hover;
  }
}

.btn-compact {
  padding-right: 16px;
  padding-left: 16px;
}

// @from atlas.css
.btn-compact {
  padding: 0 16px;
}

.btn-tight {
  padding-right: $xs-spacing;
  padding-left: $xs-spacing;
}

.btn-mini {
  padding: 8px 20px 9px;

  font-size: 13px;
}

// @from atlas.css
.btn-mini {
  font-size: 14px;
  font-weight: 600;
  line-height: 24px;
  height: 26px;
  padding: 0 20px;
}

.btn-large {
  font-size: 20px;
}




/*!
Progress Buttons

Use to indicate that an action is in progress after a user clicks a button.
To use, add the `.btn-progress-spinner` elements (see code sample) to a
`.btn` element's markup, then add the `.btn-progress` class. Typically, the
button should be disabled as well.

A common JavaScript module is available that handles this behavior and
creates the additional elements in the `button` if necessary. This is the
preferred way to use the component. See `progress-btn.js`.

.btn-inverse - Inverse variant.
.btn-primary - Primary variant.
.btn-mini - Mini variant.
.btn-mini.btn-inverse - Inverse mini variant.
.btn-mini.btn-primary - Primary mini variant.

Styleguide 7.2.
*/

$zoom-duration = .25s;
$spin-duration = 1.5s;

.btn-progress {
  position: relative;

  overflow: hidden;

  &:disabled {
    opacity: 1;
  }

  .btn-progress-spinner {
    display: block;

    animation: zoom-inverse $zoom-duration ease-out forwards;
  }
}

.btn-progress-spinner {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  display: none;

  // Hide button content under pseudo-element.
  // When we drop IE8 + IE9 compatibility, we can set the text color to
  // `transparent` for the same effect.
  &:before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    background-color: $btn-color.standard.bg;

    .btn-inverse & {
      background-color: $btn-color.inverse.bg;
    }

    .btn-primary & {
      background-color: $btn-color.primary.bg;
    }
  }
}

$tenant-btn-progress-spinner();

.btn-progress-spinner-icon {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  width: 1em;
  height: @width;
  margin: auto;

  animation: spin-clockwise $spin-duration $zoom-duration linear infinite;
  background-repeat: no-repeat;
  background-position: center;
  font-size: 28px;
}

.no-cssanimations .btn-progress-spinner-icon:after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  display: block;

  background-image: url("/static/img/btn-spinner-empty-point.gif");
  background-repeat: no-repeat;
  background-position: center;
}

.btn-mini {
  .btn-progress-spinner-icon {
    font-size: 20px;
  }
}

.no-cssanimations .btn-mini .btn-progress-spinner-icon:after {
  background-image: url("/static/img/btn-spinner-mini-empty-point.gif");
}

// Deprecated, please use `.btn-fake-link`

.btn-link {
  font-smoothing("off");

  height: auto;
  padding: 0;
  border: 0;
  border-radius: 0;

  font-size: 14px;
  font-weight: 400;
  line-height: inherit;

  &,
  &:hover,
  &:focus {
    background: transparent;
    color: $blue;
  }

  &:disabled {
    background: transparent;
    color: $blue;
    opacity: 1;
  }
}

/*!
Button Links

UI controls without a meaningful `href` should be built with `button`
elements, regardless of styling. If a `button` needs to look like a normal
link and needs to be used inline with text, use `.btn-fake-link` to remove
`button` styles.

For more information, see
http://formidablelabs.com/blog/2014/05/08/anchors-buttons-and-accessibility/

Styleguide 7.3
*/

.btn-fake-link {
  font-smoothing("inherit");

  @extend $standard-link;

  padding: 0;
  border: none;

  background: none;
  cursor: pointer;
  text-align: left;
  outline: none;

  // Any property that may change by state should smoothly transition
  transition-property: color;
  transition-duration: 120ms;
  transition-timing-function: ease-out;

  &:hover,
  &:focus,
  &:active {
    text-decoration: underline;
  }
}

/*!
Flat Buttons

UI controls without a meaningful `href` should be built with `button`
elements, regardless of styling. If a `button` needs to look more like a
normal link but IS NOT used inline with text, use `.btn-flat`.

For more information, see
http://formidablelabs.com/blog/2014/05/08/anchors-buttons-and-accessibility/

Styleguide 7.3
*/

.btn-flat {
  border: none;
  background-color: rgba($black, 0);
  color: $blue;

  // Any property that may change by state should smoothly transition
  transition-property: background-color;
  transition-duration: 120ms;
  transition-timing-function: ease-out;

  &:hover,
  &:focus {
    color: $blue;
    background-color: rgba($black, 0.1);
  }

  &:active {
    color: $blue;
    background-color: rgba($black, 0.2);
  }

  &:disabled {
    background-color: rgba($black, 0);
    color: rgba($blue, 0.5);
  }
}

/*!
Voting Buttons

Styleguide 7.4
*/

$btn-vote-color ?= {
  bg: #ccc,
  bg-active: #333,
  border: #ccc,
  border-active: #333,
  text: #333,
  text-active: #fff
}

.btn-vote {
  width: 70px;
  height: 30px;
  border: 1px solid;
  padding: 0 0 0 15px;

  font-size: 14px;
  font-weight: 600;
  line-height: @height - 2;
  text-align: left;

  &,
  &:focus {
    border-color: $btn-vote-color.border;

    background-color: $btn-vote-color.bg;
    color: $btn-vote-color.text;
  }

  &:active, &:hover {
    border-color: $btn-vote-color.border-active;

    background-color: $btn-vote-color.bg-active;
    color: $btn-vote-color.text-active;
  }
}

$tenant-btn-vote();

$btn-vote-icon {
  position: relative;

  display: inline-block;
  width: 18px;
  height: @width;

  background-repeat: no-repeat;
  font-size: 15px;
  vertical-align: top;

  +ifWalmarticons() {
    &:before {
      walmarticons();
    }
  }
}

.btn-vote-up {
  @extend $btn-vote-icon;

  margin-bottom: 4px;

  +ifWalmarticons() {
    &:before {
      wmicon("thumbs-alt-up");
    }
  }
}

.btn-vote-down {
  @extend $btn-vote-icon;

  top: 1px;

  background-position: -18px 0;

  +ifWalmarticons() {
    &:before {
      wmicon("thumbs-alt-down");
    }
  }
}

.btn-vote-group {
  .btn-vote {
    margin-left: 10px;
  }
}

.btn-vote-count {
  margin-left: 1px;

  color: $grey-medium;
  font-size: 14px;
  font-weight: 400;
  vertical-align: middle;
}

.btn-vote-heading {
  font-size: 14px;
  font-weight: 600;
  vertical-align: middle;
}

/*!
Badge Buttons
*/

$btn-badge-color ?= {
  bg: $blue-pale,
  bg-hover: $blue-pale-hover,
  bg-active: $blue-place-active,
  border: none,
  border-hover: none,
  text: $grey-dark,
  text-hover: $grey-dark
}

.btn-badge {
  height: 30px;
  padding: 0 14px;
  border: $btn-badge-color.border;

  background: $btn-badge-color.bg;
  color: $btn-badge-color.text;
  font-size: 14px;
  font-weight: 600;
  line-height: @height;

  &:hover,
  &:focus {
    background: $btn-badge-color.bg-hover;
    color: $btn-badge-color.text-hover;
    // TODO: Sync up with global UX about focus states to get something better looking that is still
    // usable. (Potentially just changing the hover colors to make them more clear).
    outline: none;
  }

  &.active,
  &:active {
    background: $btn-badge-color.bg-active;
  }

  span {
    color: $blue;
    font-weight: 400;
  }
}

$tenant-btn-badge();

/*!
Delete Buttons

Styleguide 7.6
*/
.btn-delete {
  display: block;
  width: 2.5em;
  padding: .5em;
  border: 1px solid $grey-light;
  border-radius: 50%;

  font-size: 14px;
  font-weight: 600;
  text-align: center;

  &,
  &:hover,
  &:focus,
  &:visited,
  &:active {
    background: $white;
    color: $btn-delete-color.text;
  }

  &:hover,
  &:focus {
    border-color: $btn-delete-color.border-hover;
  }

  &:active {
    border-color: $grey-light;
  }

  &:disabled {
    border-color: $grey-light;

    background-color: $white;
  }
}

/*!
Close Buttons

Styleguide 7.7
*/

.btn-close {
  width: 18px;
  height: @width;
  padding: 0 0 1px;
  border: 0;
  border-radius: 50%;

  font-size: 13px;
  line-height: 0;
  text-align: center;

  &,
  &:hover,
  &:focus,
  &:visited,
  &:active {
    background: $grey-cool;
    color: $white;
  }
}

/*!
Responsive Block Buttons

Used to create buttons that fill the entire available horizontal space, up to or starting
from a specified breakpoint. Above or below that breakpoint, the button will revert to the
default `.btn` styling of `display: inline-block` and `width: auto`. Most commonly used
for narrow breakpoints. The default class `.btn-block` should be applied to buttons that should be always full width.

.btn-block - Default block version at all screen sizes.
.btn-block-xs - Full width starting at the `xs` breakpoint.
.btn-block-s - Full width starting at the `s` breakpoint.
.btn-block-m - Full width starting at the `m` breakpoint.
.btn-block-l - Full width starting at the `l` breakpoint.
.btn-block-max-xs -  Full width up to the `xs` breakpoint.
.btn-block-max-s -  Full width up to the `s` breakpoint.
.btn-block-max-m -  Full width up to the `m` breakpoint.
.btn-block-max-l -  Full width up to the `l` breakpoint.

Styleguide 7.8
*/

generate-btn-block($suffix = null, $type = "min") {
  $suffixString = "";

  if $suffix {
    $suffixString = "-" + $suffix;
  }

  if $suffix and $type is "max" {
    $suffixString = "-max" + $suffixString;
  }

  .btn-block{$suffixString} {
    display: block;
    width: 100%;
  }
}

// Generate default .btn-block
generate-btn-block();

// Media query versions. Loops through our major breakpoints.
for $size in $responsive-breakpoint-sizes {
  +breakpoint($responsive-breakpoint-sizes[$size]) {
    generate-btn-block($size);
  }
}

for $size in $responsive-breakpoint-max-sizes {
  +breakpoint($responsive-breakpoint-max-sizes[$size], "max") {
    generate-btn-block($size, "max");
  }
}

// extras used to be in interactive.styl
.btn-double button.btn {
  width: 38px;
  padding: 0;
}
.btn-double button.btn-fake-link {
  padding-left: .5rem;
}

.btn-progress-spinner-icon,
.gicon-btn-spinner {
  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2228%22%20height%3D%2228%22%20viewBox%3D%220%200%2028%2028%22%3E%3Cpath%20opacity%3D%22.35%22%20fill%3D%22%23fff%22%20stroke%3D%22%23fff%22%20stroke-width%3D%223%22%20stroke-miterlimit%3D%2210%22%20d%3D%22M26.308%2011.83a12.393%2012.393%200%200%200-.56-2.105%2012.4%2012.4%200%200%200-.927-1.97c-.36-.632-.78-1.23-1.25-1.784-.46-.55-.98-1.07-1.54-1.54-.55-.46-1.15-.88-1.78-1.25-.62-.36-1.28-.67-1.97-.92-.67-.24-1.38-.43-2.1-.56-.7-.12-1.43-.19-2.17-.19s-1.46.07-2.17.2c-.72.13-1.43.32-2.1.56-.68.25-1.34.57-1.97.93-.63.37-1.23.79-1.78%201.25-.55.47-1.07.99-1.54%201.54-.46.56-.88%201.16-1.25%201.79-.36.63-.67%201.29-.92%201.97-.25.68-.43%201.38-.56%202.11-.12.71-.19%201.43-.19%202.17s.07%201.47.19%202.17c.13.73.32%201.43.56%202.11.25.69.57%201.35.93%201.97.37.64.79%201.23%201.25%201.79.47.56.99%201.08%201.54%201.54.56.47%201.15.89%201.79%201.25a12.378%2012.378%200%200%200%206.25%201.69c.74%200%201.47-.07%202.17-.19a12.356%2012.356%200%200%200%205.86-2.73c.56-.46%201.07-.98%201.54-1.54.47-.55.89-1.15%201.25-1.78.36-.62.68-1.28.93-1.97.25-.67.44-1.38.56-2.1.13-.7.2-1.43.2-2.17s-.07-1.46-.19-2.17zM23.61%2017.5a10.298%2010.298%200%200%201-6.1%206.114c-.55.2-1.13.352-1.72.457-.57.11-1.17.16-1.77.16s-1.19-.05-1.77-.15c-.59-.1-1.17-.25-1.72-.46-.56-.2-1.1-.46-1.61-.76s-1-.64-1.46-1.02c-.45-.38-.87-.8-1.26-1.26-.38-.45-.72-.94-1.02-1.46-.29-.51-.55-1.05-.76-1.61-.2-.55-.35-1.13-.46-1.72-.1-.57-.15-1.17-.15-1.77%200-.6.06-1.2.16-1.77.11-.59.26-1.17.46-1.72.2-.56.46-1.1.76-1.61s.64-1%201.02-1.46c.38-.46.8-.88%201.26-1.26.46-.38.95-.72%201.46-1.02.51-.29%201.05-.55%201.61-.76.55-.2%201.13-.35%201.72-.46a10.323%2010.323%200%200%201%205.275.47c.56.21%201.1.46%201.61.76a10.135%2010.135%200%200%201%202.72%202.28c.38.46.728.94%201.027%201.46a10.01%2010.01%200%200%201%201.215%203.34c.1.58.16%201.17.16%201.78a10.267%2010.267%200%200%201-.614%203.503z%22%2F%3E%3Cpath%20d%3D%22M14%202.977c.653%200%201.292.06%201.914.17l.12-.67A11.57%2011.57%200%200%200%2014%202.295v.682z%22%20fill%3D%22none%22%2F%3E%3Cpath%20fill%3D%22%23fff%22%20stroke%3D%22%23fff%22%20stroke-miterlimit%3D%2210%22%20d%3D%22M21.082%205.562l.438-.523c-.52-.44-1.08-.83-1.67-1.17l-.34.58c.556.32%201.082.69%201.572%201.1zm2.46%202.93l.59-.34a11.597%2011.597%200%200%200-1.17-1.672l-.522.44c.41.488.78%201.015%201.102%201.572zM22.44%206.92l.52-.44a11.8%2011.8%200%200%200-1.44-1.44l-.438.523c.49.41.945.865%201.358%201.356zm-4.67-3.278l.234-.64a11.613%2011.613%200%200%200-1.97-.526l-.12.67c.64.113%201.26.278%201.857.496zm1.74.816l.34-.59A11.657%2011.657%200%200%200%2018.003%203l-.233.65c.607.22%201.187.5%201.74.82zm4.85%205.772l.64-.233a11.61%2011.61%200%200%200-.868-1.846l-.59.35c.32.55.595%201.13.817%201.74z%22%2F%3E%3C%2Fsvg%3E');
}
